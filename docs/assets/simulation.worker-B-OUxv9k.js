(function(){"use strict";self.onmessage=k=>{const{params:i,traderId:g,profileId:h}=k.data,{numberOfTrades:M,riskRewardRatio:R,winRate:E,aggressiveCommission:o,passiveCommission:l,passiveAggressiveRate:c,slippage:m,executionSlippageErrorRate:u,riskTakenPerTradeTicks:d,initialEquity:T}=i,q=.01*100;let s=T;const a=[];a.push({tradeNumber:0,equity:s,pnl:0});for(let r=1;r<=M;r++){const v=Math.random()<E;let t=0;if(v)t=d*R;else{let f=d;Math.random()<i.riskManagementErrorRate&&(f*=i.riskManagementErrorMultiplier),t=-f}let n=0;Math.random()<u&&(n+=m),Math.random()<u&&(n+=m),t-=n;let e=0;Math.random()<c?e+=l:e+=o,Math.random()<c?e+=l:e+=o;const p=t*q-e;s+=p,a.push({tradeNumber:r,equity:s,pnl:p})}const y={traderId:g,profileId:h,data:a,finalEquity:s};self.postMessage(y)}})();
